<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ArnLib: Installation and usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ArnLib
   &#160;<span id="projectnumber">3.1.x</span>
   </div>
   <div id="projectbrief">Active Registry Network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ins_page.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Installation and usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ins_intro">Introduction    </a></li>
<li class="level1"><a href="#ins_doc">Documentation    </a></li>
<li class="level1"><a href="#ins_build">Building ArnLib    </a><ul><li class="level2"><a href="#ins_buildUnix">A) Unix    </a></li>
<li class="level2"><a href="#ins_buildWin32Msvc">B) Win32/MSVC    </a></li>
<li class="level2"><a href="#ins_buildWin32Mingw">C) Win32/MinGW    </a></li>
<li class="level2"><a href="#ins_buildMacosx">D) MacOSX    </a></li>
<li class="level2"><a href="#ins_buildEmbedded">E) Qt Embedded    </a></li>
</ul>
</li>
<li class="level1"><a href="#ins_usage">Using ArnLib    </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ins_intro"></a>
Introduction    </h1>
<p>This software uses qmake to build all its components. qmake is part of a Qt distribution.</p>
<p>qmake reads project files, that contain the options and rules how to build a certain project. A project file ends with the suffix "*.pro". Files that end with the suffix "*.pri" are included by the project files and contain definitions, that are common for several project files.</p>
<p>The first step is to edit the *.pri / *.pro files to adjust them to your needs. Take care to select your deployment directories. <br />
<br />
</p>
<h1><a class="anchor" id="ins_doc"></a>
Documentation    </h1>
<p>The documentation is built by: </p><blockquote class="doxtable">
<p>qmake <br />
 make doc <br />
 </p>
</blockquote>
<p>ArnLib includes a class documentation, that is available in various formats:</p>
<ul>
<li><b>Html files</b></li>
<li><b>PDF document</b> <br />
 refman.pdf is built by: <blockquote class="doxtable">
<p>cd doc/latex <br />
 make <br />
 </p>
</blockquote>
</li>
<li><b>Qt Compressed Help</b> (*.qch ) for the Qt assistant or creator. <br />
 Load the doc/qthelp/arnlib.qch file into Qt Creator. Start Qt creator and go to Tools &gt; Options, open up Help and Documentation. Click Add and browse for the qch file that was just created, then Apply. It's best to close Qt creator at this point, and restart it. <br />
<br />
</li>
</ul>
<h1><a class="anchor" id="ins_build"></a>
Building ArnLib    </h1>
<p>The software can be built both by command line and IDE (Qt Creator). When using IDE, don't forget the "make install" step.</p>
<h2><a class="anchor" id="ins_buildUnix"></a>
A) Unix    </h2>
<blockquote class="doxtable">
<p>qmake <br />
 make <br />
 make install </p>
</blockquote>
<p>The easiest way of installing this library, is to let it be placed in a standard location for librarys and includes, e.g. /usr/lib and /usr/include/ArnInc. When using a shared library it's path has to be known to the run-time linker of your operating system. On Linux systems read "man ldconfig" (or google for it). Another option is to use the LD_LIBRARY_PATH (on some systems LIBPATH is used instead, on MacOSX it is called DYLD_LIBRARY_PATH) environment variable.</p>
<p>If you only want to check the library examples without installing something, you can set the LD_LIBRARY_PATH to the lib directory of your local build. it's also possible to compile the sources together by ArnLibCompile (see Using ArnLib below).</p>
<p>The examples is built this way: </p><blockquote class="doxtable">
<p>cd examples/ArnDemoChat <br />
 qmake <br />
 make </p>
</blockquote>
<h2><a class="anchor" id="ins_buildWin32Msvc"></a>
B) Win32/MSVC    </h2>
<p>Has not been tested yet ...</p>
<p>Check that your Qt version has been built with MSVC - not with MinGW !</p>
<p>Please read the qmake documentation how to convert your *.pro files into your development environment.</p>
<p>For example MSVC with nmake: </p><blockquote class="doxtable">
<p>qmake ArnLib.pro <br />
 nmake <br />
 nmake install </p>
</blockquote>
<p>The examples is built this way: </p><blockquote class="doxtable">
<p>cd examples\ArnDemoChat <br />
 qmake ArnDemoChat.pro <br />
 nmake </p>
</blockquote>
<p>Windows doesn't like mixing of debug and release binaries.</p>
<p>In windows it's possible to install the dll files together with the application binary, as the application directory always is included in the search path for dll.</p>
<h2><a class="anchor" id="ins_buildWin32Mingw"></a>
C) Win32/MinGW    </h2>
<p>Using Qt Creator for windows, will give you the needed tools for building a Qt project.</p>
<p>Check that your Qt version has been built with MinGW - not with MSVC !</p>
<p>Start a Shell, where Qt is initialized. (e.g. with "Programs-&gt;Qt by Trolltech ...-&gt;Qt 4.x.x Command Prompt" ). Check if you can execute "make" or something like "mingw32-make".</p>
<blockquote class="doxtable">
<p>qmake ArnLib.pro <br />
 make <br />
 make install </p>
</blockquote>
<p>The examples is built this way: </p><blockquote class="doxtable">
<p>cd examples\ArnDemoChat <br />
 qmake ArnDemoChat.pro <br />
 make </p>
</blockquote>
<p>Windows doesn't like mixing of debug and release binaries.</p>
<p>In windows it's possible to install the dll files together with the application binary, as the application directory always is included in the search path for dll.</p>
<h2><a class="anchor" id="ins_buildMacosx"></a>
D) MacOSX    </h2>
<p>Has not been tested yet ...</p>
<p>Well, the Mac is only another Unix system. So read the instructions in A).</p>
<p>In the recent Qt4 releases the default target of qmake is to generate XCode project files instead of makefiles. So you might need to do the following: </p><blockquote class="doxtable">
<p>qmake -spec macx-g++ </p>
</blockquote>
<h2><a class="anchor" id="ins_buildEmbedded"></a>
E) Qt Embedded    </h2>
<p>ArnLib has been built with Qt Embedded using a Raspberry Pi. To build was as simple as for a regular Unix build. <br />
<br />
</p>
<h1><a class="anchor" id="ins_usage"></a>
Using ArnLib    </h1>
<p>In the *.pro file of the application the below lines can be used.</p>
<p>This will give a starting point for the configuration. It works well when using the same base directory for ArnLib as the application, e.g. basedir/ArnLib and basedir/myApp. In Unix-alike systems it's also needed to install the library files in a path known by the system, see a) Unix.</p>
<p>It's possible to include the ArnLib source in the application compiling by adding ArnLibCompile to CONFIG. The included part of the source can be selected by addings to ARN, e.g. ARN += server.</p>
<p>WARNING! Using source inclusion (static linking) excludes the right to use LGPL for ArnLib. Options are then to use GPL for the whole application or have a written agreement with Michael Wiklund for other terms using the ArnLib.</p>
<p>Internal mDNS (ZeroConfig) is selected by adding mDnsIntern to CONFIG. </p><pre class="fragment">CONFIG += ArnLibCompile
CONFIG += mDnsIntern

greaterThan(QT_MAJOR_VERSION, 4) {
    ARNLIB = Arn5
} else {
    ARNLIB = Arn4
}

ArnLibCompile {
    #ARN += client
    ARN += server
    ARN += discover
    include(../ArnLib/src/ArnLib.pri)
    INCLUDEPATH += $$PWD/../ArnLib/src
} else {
    win32: INCLUDEPATH += $$PWD/../ArnLib/src
    win32:CONFIG(release, debug|release): LIBS += -L$$OUT_PWD/../ArnLib/release/ -l$${ARNLIB}
    else:win32:CONFIG(debug, debug|release): LIBS += -L$$OUT_PWD/../ArnLib/debug/ -l$${ARNLIB}
    else:unix: LIBS += -L$$OUT_PWD/../ArnLib/ -l$${ARNLIB}
}

!mDnsIntern {
    win32:CONFIG(release, debug|release): LIBS +=  -ldns_sd
    else:win32:CONFIG(debug, debug|release): LIBS +=  -ldns_sd
    else:unix: LIBS += -ldns_sd
}
</pre><p>If you don't use qmake you have to add the include path to find the ArnLib headers to your compiler flags and the ArnLib library to your linker list. <br />
<br />
</p>
<pre class="fragment">This Install.md file is based on documentation in the Qwt project.</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 11 2019 22:33:32 for ArnLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
